

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>tmlib.datasets.dataset &mdash; topicmodel-lib 0.3.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="topicmodel-lib 0.3.1 documentation" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> topicmodel-lib
          

          
          </a>

          
            
            
              <div class="version">
                0.3.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html#corpus">Corpus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html#guide-to-learn-model">Guide to learn model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html#inference-for-new-documents">Inference for new documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html#example">Example</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../lda_model.html">LDA Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../methods/online_vb.html">Online VB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../methods/online_cvb0.html">Online CVB0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../methods/online_cgs.html">Online CGS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../methods/online_fw.html">Online FW</a></li>
<li class="toctree-l1"><a class="reference internal" href="../methods/online_ope.html">Online OPE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../methods/streaming_vb.html">Streaming VB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../methods/streaming_fw.html">Streaming FW</a></li>
<li class="toctree-l1"><a class="reference internal" href="../methods/streaming_ope.html">Streaming OPE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../methods/ml_cgs.html">ML-CGS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../methods/ml_fw.html">ML-FW</a></li>
<li class="toctree-l1"><a class="reference internal" href="../methods/ml_ope.html">ML-OPE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasets.html">tmlib.datasets</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">topicmodel-lib</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>tmlib.datasets.dataset</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/api_dataset.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tmlib-datasets-dataset">
<h1><a class="toc-backref" href="#id1">tmlib.datasets.dataset</a><a class="headerlink" href="#tmlib-datasets-dataset" title="Permalink to this headline">¶</a></h1>
<p>This module helps loading minibatches from corpus for learning LDA</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#tmlib-datasets-dataset" id="id1">tmlib.datasets.dataset</a><ul>
<li><a class="reference internal" href="#class-tmlib-datasets-dataset-dataset" id="id2">class tmlib.datasets.dataset.Dataset</a><ul>
<li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li>
<li><a class="reference internal" href="#attributes" id="id4">Attributes</a></li>
<li><a class="reference internal" href="#methods" id="id5">Methods</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="class-tmlib-datasets-dataset-dataset">
<h2><a class="toc-backref" href="#id2">class tmlib.datasets.dataset.Dataset</a><a class="headerlink" href="#class-tmlib-datasets-dataset-dataset" title="Permalink to this headline">¶</a></h2>
<p>tmlib.datasets.dataset.Dataset(<em>data_path, batch_size, passes=1, shuffle_every=None, vocab_file=None</em>)</p>
<div class="section" id="parameters">
<h3><a class="toc-backref" href="#id3">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><strong>data_path</strong>: string, not default</p>
<p>Path of file input (corpus)</p>
</li>
<li><p class="first"><strong>batch_size</strong>: int</p>
<p>size of mini-batch in each sampling from corpus.</p>
</li>
<li><p class="first"><strong>passes</strong>: int, default: 1</p>
<p>passes controls how often we train the model on the entire corpus. Another word for passes might be “epochs”. iterations is somewhat technical, but essentially it controls how often we repeat a particular loop over each document. It is important to set the number of “passes” and “iterations” high enough.</p>
<p>For example, if you set passes = 5, assume that batch_size = 100 and size of corpus is 10000 then number of training iterations is 10000/100*5 = 5000</p>
</li>
<li><p class="first"><strong>shuffle_every</strong>: int, default: None</p>
<p>Because of sampling randomly from corpus, so minibatches in each pass time must be sampled pseudo-randomly. By the way shuffling corpus, we can create the randomize of sampling minibatch.</p>
<p>If you set shuffle_every=2, it means after passing over corpus 2 times, corpus will be shuffled</p>
</li>
<li><p class="first"><strong>vocab_file</strong>: string, default: None</p>
<p>File vocabulary of corpus</p>
<p>If corpus is raw text format, file vocabulary is non-necessary. Otherwise, if corpus is tf or sq format, user must set it</p>
</li>
</ul>
</div>
<div class="section" id="attributes">
<h3><a class="toc-backref" href="#id4">Attributes</a><a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><strong>batch_size</strong>: int</p>
</li>
<li><p class="first"><strong>vocab_file</strong>: string,</p>
</li>
<li><p class="first"><strong>data_path</strong>: string, path of formatted file corpus</p>
</li>
<li><p class="first"><strong>data_format</strong>: DataFormat.TERM_SEQUENCE or DataFormat.TERM_FREQUENCY</p>
</li>
<li><p class="first"><strong>output_format</strong>: default is DataFormat.TERM_FREQUENCY</p>
<p>format of mini-batch. User change the format by use method <em>set_output_format</em></p>
</li>
<li><p class="first"><strong>passes</strong>: int</p>
</li>
<li><p class="first"><strong>shuffle_every</strong>: int</p>
</li>
<li><p class="first"><strong>pass_no</strong>: int</p>
<p>numerical order of passes</p>
</li>
<li><p class="first"><strong>batch_no_in_pass</strong>: int</p>
<p>numerical order of minibatches in each pass</p>
</li>
<li><p class="first"><strong>work_path</strong>: string</p>
<p>This path is different from data_path. If corpus is shuffled then work_path is path of the shuffled file, not the original file</p>
</li>
<li><p class="first"><strong>fp</strong>: file pointer of file <strong>work_path</strong></p>
</li>
<li><p class="first"><strong>end_of_file</strong>: boolean,</p>
</li>
<li><p class="first"><strong>end_of_data</strong> (inheritance attribute)</p>
</li>
<li><p class="first"><strong>mini_batch_no</strong> (inheritance attribute)</p>
</li>
</ul>
</div>
<div class="section" id="methods">
<h3><a class="toc-backref" href="#id5">Methods</a><a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">__init__(<em>data_path, batch_size, passes=1, shuffle_every=None, vocab_file=None</em>)</p>
</li>
<li><p class="first"><strong>load_mini_batch</strong> ()</p>
<p>loading a mini-batch from corpus with specific format (controlled by <strong>output_format</strong>)</p>
</li>
<li><p class="first"><strong>check_end_of_data</strong> ()</p>
<p>To check out that whether we visit to the last iteration or not.</p>
<p>Return True if the last mini-batch is loaded</p>
</li>
<li><p class="first"><strong>set_output_format</strong> (output_format)</p>
<p>set format for the loaded mini-batch</p>
<ul class="simple">
<li><strong>Parameters</strong>: output_format (DataFormat.TERM_SEQUENCE or DataFormat.TERM_FREQUENCY)</li>
</ul>
</li>
<li><p class="first"><strong>get_total_docs</strong> ()</p>
<p>Return number of documents which have been analyzed until now</p>
</li>
<li><p class="first"><strong>get_num_tokens</strong> ()</p>
<p>Return number of words in corpus</p>
</li>
<li><p class="first"><strong>get_num_terms</strong> ()</p>
<p>Return number of unique terms in corpus (size of vocabulary set)</p>
</li>
</ul>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, DSLab.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.3.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>